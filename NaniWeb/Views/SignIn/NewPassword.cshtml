@model NewPasswordForm

@{
    ViewData["Title"] = "Password reset";
}

@section Header
{
    <link rel="stylesheet" href="~/libs/css/siteop1.css"/>
}

<form id="new_password_form" class="form-a bg-dark rounded mx-auto text-center text-white" asp-controller="SignIn" asp-action="SignUp" novalidate>
    <div class="mt-3 mx-4">
        <img class="mb-3" src="~/assets/login_logo.png" alt="" width="200" height="44">
        <h1 class="h5 mb-4 font-weight-normal">Reset password</h1>
    </div>
    <div class="form-group mx-4">
        <input class="form-control mb-1" id="password" asp-for="Password" placeholder="Password" data-container="body" data-toggle="popover" data-placement="right" data-content="Minimum of 8 characters. Alphanumeric characters and symbols are allowed."/>
        <input class="form-control" id="password_confirm" type="password" placeholder="Confirm password" data-container="body" data-toggle="popover" data-placement="right" data-content="Please confirm your password."/>
    </div>
    <div class="mt-3 mb-2 mx-4">
        <button class="btn btn-success btn-block" id="submit" type="submit">Confirm</button>
    </div>
</form>

@section Body
{
    <script>
        $("#new_password_form").submit(function(e) {
            const password = $("#password");
            const passwordConfirm = $("#password_confirm");

            if (!validatePassword(password.val())) {
                password.addClass("is-invalid").focus();
                e.preventDefault(e);
                return;
            }

            if (password.val() !== passwordConfirm.val()) {
                passwordConfirm.addClass("is-invalid").focus();
                e.preventDefault(e);
                return;
            }
        });
    </script>
}